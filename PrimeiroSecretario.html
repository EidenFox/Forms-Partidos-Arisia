<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Primeiro Secretário de Arísia - Indicação e Candidatura</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/png" href="https://storage.minecart.com.br/9d62991dad2e96532cd4f95128ca2c39_arisia.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Teko:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827;
        }
        .font-teko {
            font-family: 'Teko', sans-serif;
        }
        .gradient-text {
            /* Cor laranja/dourado para cargo de coordenação */
            background: linear-gradient(to right, #fb923c, #f59e0b); 
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .card {
            background-color: #1f2937;
            border: 1px solid #374151;
            border-radius: 0.75rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(251, 146, 60, 0.2), 0 4px 6px -2px rgba(251, 146, 60, 0.1); /* Sombra laranja */
        }
        .form-input {
            background-color: #374151;
            border: 1px solid #4b5563;
            color: #d1d5db;
        }
        .form-input:focus {
            outline: none;
            border-color: #fb923c; /* orange-400 */
            box-shadow: 0 0 0 2px #fb923c;
        }
        .btn-submit {
            background: linear-gradient(to right, #fb923c, #ea580c); /* Tonalidade laranja */
            transition: all 0.3s ease;
        }
        .btn-submit:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(251, 146, 60, 0.5);
        }
        .btn-submit:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: scale(1);
            box-shadow: none;
        }
        #privacidade-aviso {
            max-width: 600px;
            margin-top: 2rem;
            text-align: center;
        }
    </style>
</head>
<body class="text-gray-200">

    <!-- Header -->
    <header class="text-center py-12 md:py-20 bg-gray-900 bg-opacity-70 backdrop-blur-sm">
        <div class="container mx-auto px-4">
            <h1 class="font-teko text-6xl md:text-8xl font-bold tracking-wider uppercase">
                <span class="gradient-text">Primeiro Secretário</span>
            </h1>
            <p class="mt-2 text-xl md:text-2xl text-gray-400">O Coordenador das Secretarias de Arísia.</p>
        </div>
    </header>

    <main class="container mx-auto px-4 py-12">

        <!-- Descrição do Cargo -->
        <section class="text-center max-w-4xl mx-auto">
            <h2 class="font-teko text-4xl md:text-5xl font-bold text-white mb-4">⭐ O Papel do Primeiro Secretário ⭐</h2>
            <p class="text-lg text-gray-300 leading-relaxed mb-8">
                O Primeiro Secretário é o elo vital entre os Representantes da Nação e as Secretarias. Este cargo é definido por votação interna entre os Secretários já empossados.
            </p>
            
            <div class="card p-6 mx-auto max-w-lg">
                <h3 class="font-teko text-3xl font-bold text-orange-400 mb-4">Obrigações e Deveres</h3>
                <!-- Alterações de texto mantidas conforme sua solicitação -->
                <ul class="space-y-3 text-gray-300 list-disc list-inside text-left mx-auto">
                    <li><b>Organizar e Supervisionar</b> todas as Secretarias.</li>
                    <li><b>Comunicar</b> aos representantes e secretários qualquer mudança ou diretriz geral dentro das Secretarias.</li>
                    <li><b>Atuar como mediador</b> entre os Representantes e os Secretários e entre as diversas Secretarias.</li>
                    <li><b>Organizar a Votação Popular</b> para remoção ou substituição de Representantes e Secretários, quando necessário.</li>
                    <li><b>Garantir o anonimato</b> em votações internas de Secretários, sob pena de remoção por corrupção.</li>
                </ul>
            </div>
        </section>

        <!-- Formulário de Indicação/Candidatura -->
        <section id="form-section" class="mt-20 max-w-2xl mx-auto">
            <!-- SEÇÃO DE ENVIOS ENCERRADOS (Adicionada) -->
            <div id="closed-message" class="card p-8 text-center hidden">
                <h2 class="font-teko text-4xl font-bold text-red-400 mb-4">Envios Encerrados</h2>
                <p class="text-gray-300 text-lg">O período de indicação/candidatura para Primeiro Secretário foi encerrado. Agradecemos a participação!</p>
            </div>
            <!-- FIM DA SEÇÃO DE ENVIOS ENCERRADOS -->

            <div id="form-wrapper" class="card p-8">
                <h2 class="font-teko text-4xl font-bold text-center mb-6 gradient-text">Indicação / Candidatura</h2>
                <p class="text-gray-400 text-center mb-6">
                    Use este formulário para indicar um Cidadão (ou a si mesmo) para o cargo de Primeiro Secretário. Lembre-se, o cidadão será oficialmente escolhido através de votação interna dos outros Secretários.
                    <br>Apenas uma indicação por secretário. 
                </p>
                <div id="form-container">
                    <form id="primeiro-secretario-form" class="space-y-6">
                        <!-- CAMPO OCULTO PARA O IP -->
                        <input type="hidden" name="Endereço IP" id="ip-address">

                        <div>
                            <label for="your-name" class="block text-sm font-medium text-gray-300 mb-1">Seu Nome (Obrigatório)</label>
                            <input type="text" id="your-name" name="Seu Nome" required class="w-full form-input rounded-md p-2" placeholder="Ex: Dante Shihoin">
                        </div>
                        
                        <!-- Campo Discord ID Adicionado -->
                        <div>
                            <label for="discord-id" class="block text-sm font-medium text-gray-300 mb-1">Seu Discord ID (Obrigatório)</label>
                            <input type="text" id="discord-id" name="Discord ID" required class="w-full form-input rounded-md p-2" placeholder="Ex: dante.shihoin">
                        </div>

                        <div>
                            <label for="indicated-nick" class="block text-sm font-medium text-gray-300 mb-1">Nick in-game do Cidadão Indicado</label>
                            <input type="text" id="indicated-nick" name="Nick do Indicado" class="w-full form-input rounded-md p-2" placeholder="Ex: NickDeUmCidadão">
                            <p class="text-xs text-gray-500 mt-1">Não escreva seu proprio nome. Caso queira se candidatar, marque a caixa abaixo.</p>
                        </div>

                        <!-- Checkbox para Candidatura Própria -->
                        <div class="flex items-center pt-2">
                            <input type="checkbox" id="self-candidacy" name="Candidatura Própria" class="mr-3 h-5 w-5 text-orange-500 rounded focus:ring-orange-400 border-gray-600 bg-gray-700">
                            <label for="self-candidacy" class="text-sm font-medium text-gray-300 cursor-pointer">
                                Desejo me candidatar para o cargo de Primeiro Secretário.
                            </label>
                        </div>
                        
                        <!-- AVISO DE PRIVACIDADE E TERMOS -->
                        <div class="flex items-start pt-4 text-xs text-gray-400">
                            <input type="checkbox" id="terms-checkbox" name="Aceite dos Termos" required class="mt-1 mr-3 h-5 w-5 text-orange-500 rounded focus:ring-orange-400 border-gray-600 bg-gray-700">
                            <label for="terms-checkbox" class="cursor-pointer">
                                Afirmo que compreendo que esta indicação/candidatura será utilizada como base para a votação interna dos Secretários e não garante a posse do cargo.
                            </label>
                        </div>

                        <div class="text-center pt-4">
                            <button type="submit" id="submit-button" class="btn-submit text-white font-bold py-3 px-8 rounded-full text-lg w-full md:w-auto" disabled>
                                Enviar Indicação/Candidatura
                            </button>
                        </div>

                        <div class="flex items-center justify-center text-xs text-gray-400 pt-2" id="privacidade-aviso">
                            <p>Ao enviar, seu endereço de IP será registrado para fins de segurança e moderação.</p>
                        </div>
                        
                    </form>
                </div>
                
                <!-- Mensagens de Feedback -->
                <div id="confirmation-message" class="hidden text-center">
                    <h3 class="font-teko text-3xl text-green-400 font-bold mb-4">Indicação Enviada!</h3>
                    <p class="text-gray-300">Sua indicação/candidatura foi registrada com sucesso. Agradecemos a participação no processo de definição do Primeiro Secretário!</p>
                </div>
                <div id="error-message" class="hidden text-center">
                    <h3 class="font-teko text-3xl text-red-400 font-bold mb-4">Ocorreu um Erro</h3>
                    <p class="text-gray-300">Não foi possível enviar o formulário. Por favor, tente novamente mais tarde ou contate a administração. Seu IP e dados não foram registrados.</p>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="text-center py-8 mt-12 border-t border-gray-800">
        <p class="text-gray-500">&copy; 2025 EidenFox. Todos os direitos reservados.</p>
    </footer>

    <script>
        // --- CONTROLE DE EXIBIÇÃO DO FORMULÁRIO (Adicionado) ---
        // Altere o valor para false ou 0 para ABRIR as inscrições.
        // Altere o valor para true ou 1 para ENCERRAR as inscrições.
        const encerrado = false; // Definido como 'true' para desativar o formulário

        const closedMessage = document.getElementById('closed-message');
        const formWrapper = document.getElementById('form-wrapper');

        if (encerrado === true || encerrado === 1) {
            closedMessage.classList.remove('hidden');
            formWrapper.classList.add('hidden');
        } else {
            closedMessage.classList.add('hidden');
            formWrapper.classList.remove('hidden');
        }

        // --- SCRIPT PARA CAPTURAR O IP ---
        window.addEventListener('load', () => {
            fetch('https://api.ipify.org?format=json')
                .then(response => response.json())
                .then(data => {
                    const ipField = document.getElementById('ip-address');
                    if (ipField) {
                        ipField.value = data.ip;
                    }
                })
                .catch(error => {
                    console.error('Não foi possível obter o endereço IP:', error);
                    const ipField = document.getElementById('ip-address');
                    if (ipField) {
                        ipField.value = 'IP não disponível';
                    }
                });
        });

        // --- LÓGICA DO FORMULÁRIO ---
        const form = document.getElementById('primeiro-secretario-form');
        const submitButton = document.getElementById('submit-button');
        const formContainer = document.getElementById('form-container');
        const confirmationMessage = document.getElementById('confirmation-message');
        const errorMessage = document.getElementById('error-message');
        const termsCheckbox = document.getElementById('terms-checkbox');

        // Desabilita o botão de envio initially
        submitButton.disabled = true;

        // Adiciona um "ouvinte" para a caixa de seleção de termos
        termsCheckbox.addEventListener('change', function() {
            // Habilita ou desabilita o botão com base se a caixa está marcada
            submitButton.disabled = !this.checked;
        });

        form.addEventListener('submit', async function(event) {
            event.preventDefault(); // Impede o envio padrão do formulário.

            // Desabilita o botão para evitar envios múltiplos
            submitButton.disabled = true;
            submitButton.textContent = 'Enviando...';

            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());
            
            // Endpoint Formspree fornecido pelo usuário
            const formspreeEndpoint = 'https://formspree.io/f/mzzkglle';

            try {
                const response = await fetch(formspreeEndpoint, {
                    method: 'POST',
                    body: JSON.stringify(data),
                    headers: {
                        'Content-Type': 'application-json',
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    // Sucesso! Mostra a mensagem de confirmação.
                    formContainer.classList.add('hidden');
                    confirmationMessage.classList.remove('hidden');
                    errorMessage.classList.add('hidden');
                } else {
                    // Trata erros de validação ou do servidor do Formspree
                    throw new Error('Falha no envio para o servidor.');
                }
            } catch (error) {
                console.error('Erro ao enviar o formulário:', error);
                // Mostra a mensagem de erro
                formContainer.classList.add('hidden');
                errorMessage.classList.remove('hidden');
                submitButton.textContent = 'Enviar Indicação/Candidatura';
                // Re-habilita o botão (caso o erro não seja fatal)
                submitButton.disabled = !termsCheckbox.checked; 
            }
        });
        // --- FIM DA LÓGICA DO FORMULÁRIO ---
    </script>

</body>
</html>

